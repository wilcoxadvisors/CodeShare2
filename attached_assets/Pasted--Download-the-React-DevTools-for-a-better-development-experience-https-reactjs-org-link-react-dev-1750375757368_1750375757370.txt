 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= false AuthNotLoading= false QueryEnabled= false
 EntityLayout: Context still loading - showing spinner Object
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Checking authentication status...
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Debug session ID found: tP1jgDqVe-m_Eiapx0MN-ZucN7mshFYY
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Making fetch request to /api/auth/me with credentials
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= false AuthNotLoading= false QueryEnabled= false
 EntityLayout: Context still loading - showing spinner Object
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Loading state detected, deferring entity selection logic: Object
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: 73
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= false AuthNotLoading= false QueryEnabled= false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check response status: 200
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: User authenticated: Object
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Authentication successful, triggering query invalidation to ensure fresh data
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Invalidated and refetched entity queries
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check completed, setting isLoading to false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 EntityLayout: Context still loading - showing spinner Object
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: Query function executing with:
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - User: ID 1, Username admin
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Auth loading state: false
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Query enabled: true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Is Guest user: false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Loading state detected, deferring entity selection logic: Object
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: 73
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: true
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 EntityLayout: Context still loading - showing spinner Object
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENTS_RECEIVED: Fetched clients length: 5
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENTS_RECEIVED: First few clients: Array(2)
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 EntityLayout: Context still loading - showing spinner Object
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Loading state detected, deferring entity selection logic: Object
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: 73
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: true
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_RESPONSE: Status 200 OK
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_SUCCESS: Got successful response, parsing JSON...
 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: Fetched entitiesData length: 50
 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: First few entities: Array(2)
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 EntityLayout: Context still loading - showing spinner Object
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 ENTITY_CONTEXT_STATE_POST_FETCH: 
        - Total entities: 50
        - Auth loading: false
        - Query state: Success=true, Loading=false, Error=false
 ARCHITECT_DEBUG_ENTITY_CTX_STATE_POST_FETCH: Object
 DEBUG: Initial entities loading completed successfully
 ENTITY_CONTEXT_LOADING_STATE_CHANGE: 
        From true to false
        - Auth loading: false
        - Query loading: false
        - Fetching: false
        - Initial load complete: false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Loading state detected, deferring entity selection logic: Object
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 4
    - Selected client: 73
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 EntityLayout: Context ready - rendering Outlet Object
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: false, isExpanded: false, path: /clients/73/entities/239/journal-entries, selectedClientId: 73, currentEntity: undefined
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 No data available for journal entries
 DEBUG: Fetching journal entries from: /api/clients/73/entities/239/journal-entries
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 EntityLayout: Found entity in loaded entities, setting current entity: ONE1
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client selection changed: Object
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 4
    - Selected client: 73
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 EntityLayout: Context ready - rendering Outlet Object
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: true, isExpanded: true, path: /clients/73/entities/239/journal-entries, selectedClientId: 73, currentEntity: 239
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: true, isEntitySelectionView: true, shouldShow: true
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 EntityLayout: Setting client ID from URL params: 73
 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
 EntityLayout: Found entity in loaded entities, setting current entity: ONE1
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client changed to 73, invalidating related queries
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client selection changed: Object
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 4
    - Selected client: 73
    - Current entity: 239
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Query invalidation completed for client 73
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: true, isExpanded: true, path: /clients/73/entities/239/journal-entries, selectedClientId: 73, currentEntity: 239
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: true, isEntitySelectionView: true, shouldShow: true
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 DEBUG - JournalEntries - Raw entries: Array(6)
 DEBUG - Entry 399 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 399: debit=3.3, credit=3.3
 DEBUG - Entry 385 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 385: debit=0, credit=0
 DEBUG - Entry 407 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 407: debit=2, credit=2
 DEBUG - Entry 377 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 377: debit=123.45, credit=123.45
 DEBUG - Entry 400 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 400: debit=3.3, credit=3.3
 DEBUG - Entry 374 structure: Array(29)
 DEBUG - Using pre-calculated totals for entry 374: debit=1.11, credit=1.11
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: false, isExpanded: false, path: /clients/73/entities/239/journal-entries/407, selectedClientId: 73, currentEntity: 239
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 JournalEntryDetail: Route params - clientId: 73 entityId: 239 entryId: 407
 JournalEntryDetail: Using clientId 73 for API requests (from param: 73 or entity: 73 )
 entry at render undefined
 DEBUG - JournalEntryDetail - Using entry: undefined
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: true, isExpanded: true, path: /clients/73/entities/239/journal-entries/407, selectedClientId: 73, currentEntity: 239
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: true, isEntitySelectionView: true, shouldShow: true
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 JournalEntryDetail: Route params - clientId: 73 entityId: 239 entryId: 407
 JournalEntryDetail: Using clientId 73 for API requests (from param: 73 or entity: 73 )
 DEBUG - AccountsMap - Accounts array: Array(74)
 entry at render undefined
 DEBUG - JournalEntryDetail - Using entry: undefined
 JournalEntryDetail: Route params - clientId: 73 entityId: 239 entryId: 407
 JournalEntryDetail: Using clientId 73 for API requests (from param: 73 or entity: 73 )
 DEBUG - JournalEntryDetail - Data type: object
 DEBUG - JournalEntryDetail - Data structure: Object
 entry at render Object
 DEBUG - JournalEntryDetail - Using entry: Object
 DEBUG - JournalEntryDetail - Data has journalEntry property: false
 DEBUG - JournalEntryDetail - Data has id property: true
 DEBUG - JournalEntryDetail - Data has lines property: true
 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
 DEBUG - JournalEntryDetail - First line properties: Array(18)
 ARCHITECT_DEBUG: Button visibility check. Entry ID: 407, Status: draft
 DEBUG: Permission matrix: Object
 Line 0: debitValue=2, creditValue=0, line= Object
 Line 1: debitValue=0, creditValue=2, line= Object
 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: Object
 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: true, isExpanded: true, path: /clients/73/entities/239/journal-entries/407/edit, selectedClientId: 73, currentEntity: 239
 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: true, isEntitySelectionView: true, shouldShow: true
 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
 useEditJournalEntry - Entry ID from URL: 407
 useEditJournalEntry - Client ID: 73 Entity ID: 239
 DEBUG: getJournalEntriesBaseUrl called with clientId: 73, entityId: 239
 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/73/entities/239/journal-entries
 useEditJournalEntry - Journal entry data: Object
 useEditJournalEntry - Raw API response structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
 useEditJournalEntry - Extracted journal entry structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
 useEditJournalEntry - Journal entry status: draft
 useEditJournalEntry - Journal entry lines count: 2
 useEditJournalEntry - First line structure: id, journalEntryId, accountId, type, amount, description, entityCode, fsliBucket, internalReportingBucket, item, lineNo, reference, reconciled, reconciledAt, reconciledBy, createdAt, updatedAt, tags
 useEditJournalEntry - Journal entry lines sample: [
  {
    "id": 999,
    "journalEntryId": 407,
    "accountId": 325,
    "type": "debit",
    "amount": "2.0000",
    "description": "Test final 6/19",
    "entityCode": "ONE",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-19T23:16:53.201Z",
    "updatedAt": "2025-06-19T23:16:53.201Z",
    "tags": [
      {
        "dimensionId": 23,
        "dimensionValueId": 28,
        "dimensionName": "Vendor",
        "dimensionValueName": "test"
      }
    ]
  },
  {
    "id": 1000,
    "journalEntryId": 407,
    "accountId": 393,
    "type": "credit",
    "amount": "2.0000",
    "description": "Test final 6/19",
    "entityCode": "ONE",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-19T23:16:53.309Z",
    "updatedAt": "2025-06-19T23:16:53.309Z",
    "tags": []
  }
]
useEditJournalEntry.ts:90 useEditJournalEntry - Line format:  SERVER (type/amount)
useEditJournalEntry.ts:93 useEditJournalEntry - Converting server format to client format
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 1 of 2: {
  "id": 999,
  "journalEntryId": 407,
  "accountId": 325,
  "type": "debit",
  "amount": "2.0000",
  "description": "Test final 6/19",
  "entityCode": "ONE",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-19T23:16:53.201Z",
  "updatedAt": "2025-06-19T23:16:53.201Z",
  "tags": [
    {
      "dimensionId": 23,
      "dimensionValueId": 28,
      "dimensionName": "Vendor",
      "dimensionValueName": "test"
    }
  ]
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 1 converted from type='debit', amount=2.0000 to: {
  "accountId": "325",
  "entityCode": "ONE",
  "description": "Test final 6/19",
  "debit": "2.00",
  "credit": "",
  "tags": [
    {
      "dimensionId": 23,
      "dimensionValueId": 28,
      "dimensionName": "Vendor",
      "dimensionValueName": "test"
    }
  ],
  "id": 999
}
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 2 of 2: {
  "id": 1000,
  "journalEntryId": 407,
  "accountId": 393,
  "type": "credit",
  "amount": "2.0000",
  "description": "Test final 6/19",
  "entityCode": "ONE",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-19T23:16:53.309Z",
  "updatedAt": "2025-06-19T23:16:53.309Z",
  "tags": []
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 2 converted from type='credit', amount=2.0000 to: {
  "accountId": "393",
  "entityCode": "ONE",
  "description": "Test final 6/19",
  "debit": "",
  "credit": "2.00",
  "tags": [],
  "id": 1000
}
useEditJournalEntry.ts:119 useEditJournalEntry - All lines converted from server to client format
useEditJournalEntry.ts:143 useEditJournalEntry - Processed entry lines: Array(2)
useEditJournalEntry.ts:153 useEditJournalEntry - Files in processedEntry: Array(0)
useEditJournalEntry.ts:154 useEditJournalEntry - Raw data has files: Array(0)
useEditJournalEntry.ts:161 useEditJournalEntry - Final processedEntry.files: Array(0)
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: Object
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 74
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 74
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 74
NewJournalEntry.tsx:73 DEBUG NewJournalEntry - Accounts API success response: Object
NewJournalEntry.tsx:74 DEBUG NewJournalEntry - Response has accounts array: true
NewJournalEntry.tsx:75 DEBUG NewJournalEntry - Accounts array length: 74
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 407
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 73 Entity ID: 239
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 73, entityId: 239
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/73/entities/239/journal-entries
useEditJournalEntry.ts:37 useEditJournalEntry - Journal entry data: Object
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:57 useEditJournalEntry - Journal entry status: draft
useEditJournalEntry.ts:79 useEditJournalEntry - Journal entry lines count: 2
useEditJournalEntry.ts:83 useEditJournalEntry - First line structure: id, journalEntryId, accountId, type, amount, description, entityCode, fsliBucket, internalReportingBucket, item, lineNo, reference, reconciled, reconciledAt, reconciledBy, createdAt, updatedAt, tags
useEditJournalEntry.ts:85 useEditJournalEntry - Journal entry lines sample: [
  {
    "id": 999,
    "journalEntryId": 407,
    "accountId": 325,
    "type": "debit",
    "amount": "2.0000",
    "description": "Test final 6/19",
    "entityCode": "ONE",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-19T23:16:53.201Z",
    "updatedAt": "2025-06-19T23:16:53.201Z",
    "tags": [
      {
        "dimensionId": 23,
        "dimensionValueId": 28,
        "dimensionName": "Vendor",
        "dimensionValueName": "test"
      }
    ]
  },
  {
    "id": 1000,
    "journalEntryId": 407,
    "accountId": 393,
    "type": "credit",
    "amount": "2.0000",
    "description": "Test final 6/19",
    "entityCode": "ONE",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-19T23:16:53.309Z",
    "updatedAt": "2025-06-19T23:16:53.309Z",
    "tags": []
  }
]
useEditJournalEntry.ts:90 useEditJournalEntry - Line format:  SERVER (type/amount)
useEditJournalEntry.ts:93 useEditJournalEntry - Converting server format to client format
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 1 of 2: {
  "id": 999,
  "journalEntryId": 407,
  "accountId": 325,
  "type": "debit",
  "amount": "2.0000",
  "description": "Test final 6/19",
  "entityCode": "ONE",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-19T23:16:53.201Z",
  "updatedAt": "2025-06-19T23:16:53.201Z",
  "tags": [
    {
      "dimensionId": 23,
      "dimensionValueId": 28,
      "dimensionName": "Vendor",
      "dimensionValueName": "test"
    }
  ]
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 1 converted from type='debit', amount=2.0000 to: {
  "accountId": "325",
  "entityCode": "ONE",
  "description": "Test final 6/19",
  "debit": "2.00",
  "credit": "",
  "tags": [
    {
      "dimensionId": 23,
      "dimensionValueId": 28,
      "dimensionName": "Vendor",
      "dimensionValueName": "test"
    }
  ],
  "id": 999
}
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 2 of 2: {
  "id": 1000,
  "journalEntryId": 407,
  "accountId": 393,
  "type": "credit",
  "amount": "2.0000",
  "description": "Test final 6/19",
  "entityCode": "ONE",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-19T23:16:53.309Z",
  "updatedAt": "2025-06-19T23:16:53.309Z",
  "tags": []
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 2 converted from type='credit', amount=2.0000 to: {
  "accountId": "393",
  "entityCode": "ONE",
  "description": "Test final 6/19",
  "debit": "",
  "credit": "2.00",
  "tags": [],
  "id": 1000
}
useEditJournalEntry.ts:119 useEditJournalEntry - All lines converted from server to client format
useEditJournalEntry.ts:143 useEditJournalEntry - Processed entry lines: Array(2)
useEditJournalEntry.ts:153 useEditJournalEntry - Files in processedEntry: Array(0)
useEditJournalEntry.ts:154 useEditJournalEntry - Raw data has files: Array(0)
useEditJournalEntry.ts:161 useEditJournalEntry - Final processedEntry.files: Array(0)
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: Object
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 74
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 74
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 74
AttachmentSection.tsx:183 DEBUG: Journal entry ID changed, clearing pending files
queryClient.ts:43 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/73/dimensions method: GET
NewJournalEntry.tsx:100 DEBUG NewJournalEntry - Entities API success response: Object
NewJournalEntry.tsx:101 DEBUG NewJournalEntry - Response has entities array: true
NewJournalEntry.tsx:102 DEBUG NewJournalEntry - Entities array length: 4
JournalEntryForm.tsx:604 DEBUG: Line 325 has 1 dimension tags: Array(1)
queryClient.ts:43 DEBUG apiRequest: isFormData: false data type: object url: /api/clients/73/entities/239/journal-entries/407 method: PATCH
JournalEntryForm.tsx:346 DEBUG: Journal entry updated successfully, ID: 407
JournalEntryForm.tsx:350 DEBUG: Uploading pending files for updated journal entry: 407
AttachmentSection.tsx:169 DEBUG: No pending files to upload
JournalEntryForm.tsx:353 DEBUG: Files uploaded successfully after update
queryClient.ts:43 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/73/entities/239/journal-entries method: GET
EntityLayout.tsx:120 EntityLayout: Context ready - rendering Outlet Object
GlobalContextSelector.tsx:375 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: false, isExpanded: false, path: /clients/73/entities/239/journal-entries, selectedClientId: 73, currentEntity: 239
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: false, isEntitySelectionView: true, shouldShow: false
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
JournalEntries.tsx:109 DEBUG - JournalEntries - Raw entries: Array(6)
JournalEntries.tsx:114 DEBUG - Entry 399 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 399: debit=3.3, credit=3.3
JournalEntries.tsx:114 DEBUG - Entry 385 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 385: debit=0, credit=0
JournalEntries.tsx:114 DEBUG - Entry 407 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 407: debit=2, credit=2
JournalEntries.tsx:114 DEBUG - Entry 377 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 377: debit=123.45, credit=123.45
JournalEntries.tsx:114 DEBUG - Entry 400 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 400: debit=3.3, credit=3.3
JournalEntries.tsx:114 DEBUG - Entry 374 structure: Array(29)
JournalEntries.tsx:119 DEBUG - Using pre-calculated totals for entry 374: debit=1.11, credit=1.11
EntityLayout.tsx:35 EntityLayout: Setting client ID from URL params: 73
EntityContext.tsx:78 ARCHITECT_DEBUG_SELECTOR_STATE: Setting client ID to 73
EntityLayout.tsx:65 EntityLayout: Found entity in loaded entities, setting current entity: ONE1
GlobalContextSelector.tsx:375 ARCHITECT_DEBUG_PHANTOM: Client 73 (ONE1) - isEntitySelectionView: true, expandedClients[73]: true, isExpanded: true, path: /clients/73/entities/239/journal-entries, selectedClientId: 73, currentEntity: 239
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 73 - showEntities: true, filteredEntities: 4, isExpanded: true, isEntitySelectionView: true, shouldShow: true
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 235 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 250 - showEntities: true, filteredEntities: 2, isExpanded: false, isEntitySelectionView: true, shouldShow: false
GlobalContextSelector.tsx:436 ARCHITECT_DEBUG_ENTITY_LIST: Client 251 - showEntities: true, filteredEntities: 1, isExpanded: false, isEntitySelectionView: true, shouldShow: false
JournalEntries.tsx:109 DEBUG - JournalEntries - Raw entries: Array(0)
