JournalEntryDetail.tsx:428 Copying journal entry via URL: /api/clients/235/entities/376/journal-entries/171/copy
queryClient.ts:34 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/235/entities/376/journal-entries/171/copy method: POST
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
queryClient.ts:50 
            
            
           POST https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/api/clients/235/entities/376/journal-entries/171/copy 500 (Internal Server Error)
apiRequest @ queryClient.ts:50
mutationFn @ JournalEntryDetail.tsx:430
fn @ @tanstack_react-query.js?v=a6bb787a:1189
run @ @tanstack_react-query.js?v=a6bb787a:494
start @ @tanstack_react-query.js?v=a6bb787a:536
execute @ @tanstack_react-query.js?v=a6bb787a:1225
await in execute
mutate @ @tanstack_react-query.js?v=a6bb787a:2630
(anonymous) @ @tanstack_react-query.js?v=a6bb787a:3295
onClick @ JournalEntryDetail.tsx:1414
callCallback2 @ chunk-RPCDYKBN.js?v=a6bb787a:3674
invokeGuardedCallbackDev @ chunk-RPCDYKBN.js?v=a6bb787a:3699
invokeGuardedCallback @ chunk-RPCDYKBN.js?v=a6bb787a:3733
invokeGuardedCallbackAndCatchFirstError @ chunk-RPCDYKBN.js?v=a6bb787a:3736
executeDispatch @ chunk-RPCDYKBN.js?v=a6bb787a:7014
processDispatchQueueItemsInOrder @ chunk-RPCDYKBN.js?v=a6bb787a:7034
processDispatchQueue @ chunk-RPCDYKBN.js?v=a6bb787a:7043
dispatchEventsForPlugins @ chunk-RPCDYKBN.js?v=a6bb787a:7051
(anonymous) @ chunk-RPCDYKBN.js?v=a6bb787a:7174
batchedUpdates$1 @ chunk-RPCDYKBN.js?v=a6bb787a:18913
batchedUpdates @ chunk-RPCDYKBN.js?v=a6bb787a:3579
dispatchEventForPluginEventSystem @ chunk-RPCDYKBN.js?v=a6bb787a:7173
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-RPCDYKBN.js?v=a6bb787a:5478
dispatchEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5472
dispatchDiscreteEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5449
queryClient.ts:81 API Error Details: {message: 'Database error during copy of JE 171'}
apiRequest @ queryClient.ts:81
await in apiRequest
mutationFn @ JournalEntryDetail.tsx:430
fn @ @tanstack_react-query.js?v=a6bb787a:1189
run @ @tanstack_react-query.js?v=a6bb787a:494
start @ @tanstack_react-query.js?v=a6bb787a:536
execute @ @tanstack_react-query.js?v=a6bb787a:1225
await in execute
mutate @ @tanstack_react-query.js?v=a6bb787a:2630
(anonymous) @ @tanstack_react-query.js?v=a6bb787a:3295
onClick @ JournalEntryDetail.tsx:1414
callCallback2 @ chunk-RPCDYKBN.js?v=a6bb787a:3674
invokeGuardedCallbackDev @ chunk-RPCDYKBN.js?v=a6bb787a:3699
invokeGuardedCallback @ chunk-RPCDYKBN.js?v=a6bb787a:3733
invokeGuardedCallbackAndCatchFirstError @ chunk-RPCDYKBN.js?v=a6bb787a:3736
executeDispatch @ chunk-RPCDYKBN.js?v=a6bb787a:7014
processDispatchQueueItemsInOrder @ chunk-RPCDYKBN.js?v=a6bb787a:7034
processDispatchQueue @ chunk-RPCDYKBN.js?v=a6bb787a:7043
dispatchEventsForPlugins @ chunk-RPCDYKBN.js?v=a6bb787a:7051
(anonymous) @ chunk-RPCDYKBN.js?v=a6bb787a:7174
batchedUpdates$1 @ chunk-RPCDYKBN.js?v=a6bb787a:18913
batchedUpdates @ chunk-RPCDYKBN.js?v=a6bb787a:3579
dispatchEventForPluginEventSystem @ chunk-RPCDYKBN.js?v=a6bb787a:7173
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-RPCDYKBN.js?v=a6bb787a:5478
dispatchEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5472
dispatchDiscreteEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5449
queryClient.ts:116 Failed to process API response: Error: API request failed with status 500 Internal Server Error
Details: {
  "message": "Database error during copy of JE 171"
}
    at apiRequest (queryClient.ts:106:13)
    at async Object.mutationFn (JournalEntryDetail.tsx:430:14)
apiRequest @ queryClient.ts:116
await in apiRequest
mutationFn @ JournalEntryDetail.tsx:430
fn @ @tanstack_react-query.js?v=a6bb787a:1189
run @ @tanstack_react-query.js?v=a6bb787a:494
start @ @tanstack_react-query.js?v=a6bb787a:536
execute @ @tanstack_react-query.js?v=a6bb787a:1225
await in execute
mutate @ @tanstack_react-query.js?v=a6bb787a:2630
(anonymous) @ @tanstack_react-query.js?v=a6bb787a:3295
onClick @ JournalEntryDetail.tsx:1414
callCallback2 @ chunk-RPCDYKBN.js?v=a6bb787a:3674
invokeGuardedCallbackDev @ chunk-RPCDYKBN.js?v=a6bb787a:3699
invokeGuardedCallback @ chunk-RPCDYKBN.js?v=a6bb787a:3733
invokeGuardedCallbackAndCatchFirstError @ chunk-RPCDYKBN.js?v=a6bb787a:3736
executeDispatch @ chunk-RPCDYKBN.js?v=a6bb787a:7014
processDispatchQueueItemsInOrder @ chunk-RPCDYKBN.js?v=a6bb787a:7034
processDispatchQueue @ chunk-RPCDYKBN.js?v=a6bb787a:7043
dispatchEventsForPlugins @ chunk-RPCDYKBN.js?v=a6bb787a:7051
(anonymous) @ chunk-RPCDYKBN.js?v=a6bb787a:7174
batchedUpdates$1 @ chunk-RPCDYKBN.js?v=a6bb787a:18913
batchedUpdates @ chunk-RPCDYKBN.js?v=a6bb787a:3579
dispatchEventForPluginEventSystem @ chunk-RPCDYKBN.js?v=a6bb787a:7173
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-RPCDYKBN.js?v=a6bb787a:5478
dispatchEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5472
dispatchDiscreteEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5449
JournalEntryDetail.tsx:450 Error copying journal entry: Error: API request failed with status 500 Internal Server Error
Details: {
  "message": "Database error during copy of JE 171"
}
    at apiRequest (queryClient.ts:106:13)
    at async Object.mutationFn (JournalEntryDetail.tsx:430:14)
onError @ JournalEntryDetail.tsx:450
execute @ @tanstack_react-query.js?v=a6bb787a:1254
await in execute
mutate @ @tanstack_react-query.js?v=a6bb787a:2630
(anonymous) @ @tanstack_react-query.js?v=a6bb787a:3295
onClick @ JournalEntryDetail.tsx:1414
callCallback2 @ chunk-RPCDYKBN.js?v=a6bb787a:3674
invokeGuardedCallbackDev @ chunk-RPCDYKBN.js?v=a6bb787a:3699
invokeGuardedCallback @ chunk-RPCDYKBN.js?v=a6bb787a:3733
invokeGuardedCallbackAndCatchFirstError @ chunk-RPCDYKBN.js?v=a6bb787a:3736
executeDispatch @ chunk-RPCDYKBN.js?v=a6bb787a:7014
processDispatchQueueItemsInOrder @ chunk-RPCDYKBN.js?v=a6bb787a:7034
processDispatchQueue @ chunk-RPCDYKBN.js?v=a6bb787a:7043
dispatchEventsForPlugins @ chunk-RPCDYKBN.js?v=a6bb787a:7051
(anonymous) @ chunk-RPCDYKBN.js?v=a6bb787a:7174
batchedUpdates$1 @ chunk-RPCDYKBN.js?v=a6bb787a:18913
batchedUpdates @ chunk-RPCDYKBN.js?v=a6bb787a:3579
dispatchEventForPluginEventSystem @ chunk-RPCDYKBN.js?v=a6bb787a:7173
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-RPCDYKBN.js?v=a6bb787a:5478
dispatchEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5472
dispatchDiscreteEvent @ chunk-RPCDYKBN.js?v=a6bb787a:5449
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
client:560 [vite] server connection lost. Polling for restart...
client:736 
            
            
           GET https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/ 502 (Bad Gateway)
ping @ client:736
waitForSuccessfulPing @ client:749
(anonymous) @ client:561
 
            
            
           GET https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/clients/235/entities/376/journal-entries/171 502 (Bad Gateway)
(anonymous) @ /@vite/client:562
Navigated to https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/clients/235/entities/376/journal-entries/171
favicon.ico:1 
            
            
           GET https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/favicon.ico 502 (Bad Gateway)
Navigated to https://80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/clients/235/entities/376/journal-entries/171
client:495 [vite] connecting...
client:618 [vite] connected.
chunk-RPCDYKBN.js?v=a6bb787a:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: null, isAuthLoading: true, entityFetchAttempted: false}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= false AuthNotLoading= false QueryEnabled= false
EntityContext.tsx:289 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
EntityContext.tsx:322 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
AuthContext.tsx:40 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Checking authentication status...
AuthContext.tsx:45 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Debug session ID found: tP1jgDqVe-m_Eiapx0MN-ZucN7mshFYY
AuthContext.tsx:50 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Making fetch request to /api/auth/me with credentials
react-router-dom.js?v=a6bb787a:4394 ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
warnOnce @ react-router-dom.js?v=a6bb787a:4394
logDeprecation @ react-router-dom.js?v=a6bb787a:4397
logV6DeprecationWarnings @ react-router-dom.js?v=a6bb787a:4400
(anonymous) @ react-router-dom.js?v=a6bb787a:5216
commitHookEffectListMount @ chunk-RPCDYKBN.js?v=a6bb787a:16915
commitPassiveMountOnFiber @ chunk-RPCDYKBN.js?v=a6bb787a:18156
commitPassiveMountEffects_complete @ chunk-RPCDYKBN.js?v=a6bb787a:18129
commitPassiveMountEffects_begin @ chunk-RPCDYKBN.js?v=a6bb787a:18119
commitPassiveMountEffects @ chunk-RPCDYKBN.js?v=a6bb787a:18109
flushPassiveEffectsImpl @ chunk-RPCDYKBN.js?v=a6bb787a:19490
flushPassiveEffects @ chunk-RPCDYKBN.js?v=a6bb787a:19447
performSyncWorkOnRoot @ chunk-RPCDYKBN.js?v=a6bb787a:18868
flushSyncCallbacks @ chunk-RPCDYKBN.js?v=a6bb787a:9119
commitRootImpl @ chunk-RPCDYKBN.js?v=a6bb787a:19432
commitRoot @ chunk-RPCDYKBN.js?v=a6bb787a:19277
finishConcurrentRender @ chunk-RPCDYKBN.js?v=a6bb787a:18805
performConcurrentWorkOnRoot @ chunk-RPCDYKBN.js?v=a6bb787a:18718
workLoop @ chunk-RPCDYKBN.js?v=a6bb787a:197
flushWork @ chunk-RPCDYKBN.js?v=a6bb787a:176
performWorkUntilDeadline @ chunk-RPCDYKBN.js?v=a6bb787a:384
chunk-RPCDYKBN.js?v=a6bb787a:377 [Violation] 'message' handler took 276ms
AuthContext.tsx:60 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check response status: 200
AuthContext.tsx:67 ARCHITECT_DEBUG_AUTH_CTX_CHECK: User authenticated: {user: {…}}
AuthContext.tsx:73 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Authentication successful, triggering query invalidation to ensure fresh data
AuthContext.tsx:79 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Invalidated and refetched entity queries
AuthContext.tsx:147 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check completed, setting isLoading to false
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: {…}, isAuthLoading: false, entityFetchAttempted: false}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: undefined )
JournalEntryDetail.tsx:706 entry at render undefined
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: undefined
JournalEntryDetail.tsx:170 JournalEntryDetail: Looking for entity with ID: 376 in 0 entities
JournalEntryDetail.tsx:176 JournalEntryDetail: Entity not found in context for ID: 376
EntityContext.tsx:123 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: Query function executing with:
EntityContext.tsx:124 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - User: ID 1, Username admin
EntityContext.tsx:125 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Auth loading state: false
EntityContext.tsx:126 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Query enabled: true
EntityContext.tsx:127 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Is Guest user: false
EntityContext.tsx:289 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
EntityContext.tsx:322 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: true
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: {…}, isAuthLoading: false, entityFetchAttempted: true}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: undefined )
JournalEntryDetail.tsx:617 DEBUG - AccountsMap - Accounts array: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryDetail.tsx:706 entry at render undefined
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: undefined
EntityContext.tsx:147 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_RESPONSE: Status 200 OK
EntityContext.tsx:154 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_SUCCESS: Got successful response, parsing JSON...
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: undefined )
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data structure: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
EntityContext.tsx:159 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: Fetched entitiesData length: 50
EntityContext.tsx:160 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: First few entities: (2) [{…}, {…}]
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: {…}, isAuthLoading: false, entityFetchAttempted: true}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: undefined )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
JournalEntryDetail.tsx:170 JournalEntryDetail: Looking for entity with ID: 376 in 0 entities
JournalEntryDetail.tsx:176 JournalEntryDetail: Entity not found in context for ID: 376
EntityContext.tsx:249 ENTITY_CONTEXT_STATE_POST_FETCH: 
        - Total entities: 50
        - Auth loading: false
        - Query state: Success=true, Loading=false, Error=false
EntityContext.tsx:258 ARCHITECT_DEBUG_ENTITY_CTX_STATE_POST_FETCH: {allEntitiesLength: 50, initialLoadComplete: false, isAuthLoading: false, queryIsLoading: false, isFetching: false, …}
EntityContext.tsx:268 DEBUG: Initial entities loading completed successfully
EntityContext.tsx:276 ENTITY_CONTEXT_LOADING_STATE_CHANGE: 
        From true to false
        - Auth loading: false
        - Query loading: false
        - Fetching: false
        - Initial load complete: false
EntityContext.tsx:289 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
EntityContext.tsx:322 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: {…}, isAuthLoading: false, entityFetchAttempted: true}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: undefined )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
JournalEntryDetail.tsx:170 JournalEntryDetail: Looking for entity with ID: 376 in 0 entities
JournalEntryDetail.tsx:176 JournalEntryDetail: Entity not found in context for ID: 376
EntityContext.tsx:197 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Attempting to restore saved selections from localStorage
EntityContext.tsx:203 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Found saved values: clientId=235, entityId=376
EntityContext.tsx:211 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Restoring entity 376 (TY)
EntityContext.tsx:289 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
EntityContext.tsx:322 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
EntityContext.tsx:97 ENTITY_CONTEXT_AUTH_STATE: {user: {…}, isAuthLoading: false, entityFetchAttempted: true}
EntityContext.tsx:105 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 171
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:706 entry at render {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 171, clientId: 235, entityId: 376, date: '2025-06-13', referenceNumber: '376-06-13-2025-13669:TEST_3', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 171, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 171, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=3, creditValue=0, line= {id: 478, journalEntryId: 171, accountId: 7080, type: 'debit', amount: '3.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=3, line= {id: 479, journalEntryId: 171, accountId: 7091, type: 'credit', amount: '3.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 171, isInEditMode: false, …}
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
EntityContext.tsx:300 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client selection changed: {selectedClientId: 235, currentEntityId: 376, currentEntityClientId: 235, entitiesCount: 50, initialLoadComplete: true}
EntityContext.tsx:322 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 1
    - Selected client: 235
    - Current entity: 376
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
JournalEntryDetail.tsx:896 JournalEntryDetail: Navigating back to list with path: /clients/235/entities/376/journal-entries
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:143 No data available for journal entries
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntries.tsx:80 JournalEntries: Route params check - entityId: 376 clientId: 235 currentEntity: 376
JournalEntries.tsx:127 JournalEntries Data: undefined
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: true
EntityLayout.tsx:34 EntityLayout: Setting client ID from URL params: 235
EntityContext.tsx:68 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting client ID to 235
EntityContext.tsx:74 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved client ID 235 to localStorage
EntityLayout.tsx:60 EntityLayout: Current entities 1 Looking for entity ID: 376
EntityLayout.tsx:61 EntityLayout: Client ID from params: 235
EntityLayout.tsx:67 EntityLayout: Found entity in loaded entities, setting current entity: TY
EntityContext.tsx:83 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting entity to 376
EntityContext.tsx:89 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved entity ID 376 to localStorage
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:152 DEBUG - JournalEntries - Raw entries: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:157 DEBUG - Entry 193 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 193: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 171 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 171: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 173 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 173: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 175 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 175: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 176 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 176: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 178 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 178: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 170 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 170: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 172 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 172: debit=4, credit=4
JournalEntries.tsx:157 DEBUG - Entry 174 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 174: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 168 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 168: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 177 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 177: debit=12.87, credit=12.87
JournalEntries.tsx:127 JournalEntries Data: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: false
chunk-RPCDYKBN.js?v=a6bb787a:18625 [Violation] 'setTimeout' handler took 61ms
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 193
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:617 DEBUG - AccountsMap - Accounts array: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryDetail.tsx:706 entry at render undefined
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: undefined
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 193
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data structure: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:706 entry at render {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 193, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 193, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=2222, creditValue=0, line= {id: 518, journalEntryId: 193, accountId: 7081, type: 'debit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=2222, line= {id: 519, journalEntryId: 193, accountId: 7091, type: 'credit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 193, isInEditMode: false, …}
JournalEntryDetail.tsx:896 JournalEntryDetail: Navigating back to list with path: /clients/235/entities/376/journal-entries
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:152 DEBUG - JournalEntries - Raw entries: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:157 DEBUG - Entry 193 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 193: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 171 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 171: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 173 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 173: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 175 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 175: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 176 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 176: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 178 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 178: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 170 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 170: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 172 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 172: debit=4, credit=4
JournalEntries.tsx:157 DEBUG - Entry 174 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 174: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 168 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 168: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 177 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 177: debit=12.87, credit=12.87
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntries.tsx:80 JournalEntries: Route params check - entityId: 376 clientId: 235 currentEntity: 376
JournalEntries.tsx:127 JournalEntries Data: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: false
EntityLayout.tsx:34 EntityLayout: Setting client ID from URL params: 235
EntityContext.tsx:68 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting client ID to 235
EntityContext.tsx:74 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved client ID 235 to localStorage
EntityLayout.tsx:60 EntityLayout: Current entities 1 Looking for entity ID: 376
EntityLayout.tsx:61 EntityLayout: Client ID from params: 235
EntityLayout.tsx:67 EntityLayout: Found entity in loaded entities, setting current entity: TY
EntityContext.tsx:83 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting entity to 376
EntityContext.tsx:89 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved entity ID 376 to localStorage
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 193
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:617 DEBUG - AccountsMap - Accounts array: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data structure: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:706 entry at render {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 193, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 193, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=2222, creditValue=0, line= {id: 518, journalEntryId: 193, accountId: 7081, type: 'debit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=2222, line= {id: 519, journalEntryId: 193, accountId: 7091, type: 'credit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 193, isInEditMode: false, …}
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntryDetail.tsx:428 Copying journal entry via URL: /api/clients/235/entities/376/journal-entries/193/copy
queryClient.ts:34 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/235/entities/376/journal-entries/193/copy method: POST
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 193
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:706 entry at render {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 193, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 193, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=2222, creditValue=0, line= {id: 518, journalEntryId: 193, accountId: 7081, type: 'debit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=2222, line= {id: 519, journalEntryId: 193, accountId: 7091, type: 'credit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 193, isInEditMode: false, …}
JournalEntryDetail.tsx:435 Successfully copied journal entry: {status: 'draft', ok: true, statusText: 'Created', headers: {…}, id: 194, …}
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 194
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 235 Entity ID: 376
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: null data
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: null journalEntry
useEditJournalEntry.ts:146 useEditJournalEntry - No lines found in journal entry
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: {accounts: Array(74)}
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 74
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 74
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 74
NewJournalEntry.tsx:73 DEBUG NewJournalEntry - Accounts API success response: {accounts: Array(74)}
NewJournalEntry.tsx:74 DEBUG NewJournalEntry - Response has accounts array: true
NewJournalEntry.tsx:75 DEBUG NewJournalEntry - Accounts array length: 74
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 194
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 235 Entity ID: 376
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: null data
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: null journalEntry
useEditJournalEntry.ts:146 useEditJournalEntry - No lines found in journal entry
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: {accounts: Array(74)}
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 74
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 74
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 74
NewJournalEntry.tsx:100 DEBUG NewJournalEntry - Entities API success response: {status: 'success', entities: Array(1)}
NewJournalEntry.tsx:101 DEBUG NewJournalEntry - Response has entities array: true
NewJournalEntry.tsx:102 DEBUG NewJournalEntry - Entities array length: 1
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 194
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 235 Entity ID: 376
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
useEditJournalEntry.ts:37 useEditJournalEntry - Journal entry data: {id: 194, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of Copy of 376-06-13-2025-26395:TEST_2', …}
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isAccrual, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:57 useEditJournalEntry - Journal entry status: draft
useEditJournalEntry.ts:79 useEditJournalEntry - Journal entry lines count: 2
useEditJournalEntry.ts:83 useEditJournalEntry - First line structure: id, journalEntryId, accountId, type, amount, description, entityCode, fsliBucket, internalReportingBucket, item, lineNo, reference, reconciled, reconciledAt, reconciledBy, createdAt, updatedAt, tags
useEditJournalEntry.ts:85 useEditJournalEntry - Journal entry lines sample: [
  {
    "id": 520,
    "journalEntryId": 194,
    "accountId": 7081,
    "type": "debit",
    "amount": "2222.0000",
    "description": "Test 2",
    "entityCode": null,
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-14T20:10:20.899Z",
    "updatedAt": "2025-06-14T20:10:20.899Z",
    "tags": []
  },
  {
    "id": 521,
    "journalEntryId": 194,
    "accountId": 7091,
    "type": "credit",
    "amount": "2222.0000",
    "description": "Test 2",
    "entityCode": null,
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-14T20:10:20.899Z",
    "updatedAt": "2025-06-14T20:10:20.899Z",
    "tags": []
  }
]
useEditJournalEntry.ts:90 useEditJournalEntry - Line format:  SERVER (type/amount)
useEditJournalEntry.ts:93 useEditJournalEntry - Converting server format to client format
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 1 of 2: {
  "id": 520,
  "journalEntryId": 194,
  "accountId": 7081,
  "type": "debit",
  "amount": "2222.0000",
  "description": "Test 2",
  "entityCode": null,
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-14T20:10:20.899Z",
  "updatedAt": "2025-06-14T20:10:20.899Z",
  "tags": []
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 1 converted from type='debit', amount=2222.0000 to: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 2 of 2: {
  "id": 521,
  "journalEntryId": 194,
  "accountId": 7091,
  "type": "credit",
  "amount": "2222.0000",
  "description": "Test 2",
  "entityCode": null,
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-14T20:10:20.899Z",
  "updatedAt": "2025-06-14T20:10:20.899Z",
  "tags": []
}
useEditJournalEntry.ts:113 useEditJournalEntry - Line 2 converted from type='credit', amount=2222.0000 to: {
  "accountId": "7091",
  "entityCode": "",
  "description": "Test 2",
  "debit": "0.00",
  "credit": "2,222.00",
  "tags": [],
  "id": 521
}
useEditJournalEntry.ts:119 useEditJournalEntry - All lines converted from server to client format
useEditJournalEntry.ts:143 useEditJournalEntry - Processed entry lines: (2) [{…}, {…}]
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: {accounts: Array(74)}
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 74
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 74
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 74
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
queryClient.ts:34 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/235/dimensions method: GET
JournalEntryForm.tsx:1433 DEBUG: Syncing form with existing entry data.
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
JournalEntryForm.tsx:3655 DEBUG: Post button clicked, user is admin
JournalEntryForm.tsx:3656 DEBUG: existingEntry: {id: 194, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryForm.tsx:3658 DEBUG: Posting existing entry with ID: 194 clientId: 235 entityId: 376
useJournalEntry.ts:304 DEBUG: Posting journal entry with params: {
  "id": 194,
  "clientId": 235,
  "entityId": 376
}
useJournalEntry.ts:321 DEBUG: Normalized parameters: {entryId: 194, clientId: 235, entityId: 376}
useJournalEntry.ts:325 DEBUG: Posting journal entry with direct URL: /api/clients/235/entities/376/journal-entries/194/post
useJournalEntry.ts:326 DEBUG: Using PUT method as required by the server endpoint
queryClient.ts:34 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/235/entities/376/journal-entries/194/post method: PUT
JournalEntryForm.tsx:1286 DEBUG JournalEntryForm - received accounts: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryForm.tsx:1287 DEBUG JournalEntryForm - accounts length: 74
JournalEntryForm.tsx:1291 DEBUG JournalEntryForm - accounts first item: {id: 7072, accountCode: '1', name: 'Assets', entityId: 0, type: 'asset', …}
JournalEntryForm.tsx:1295 DEBUG JournalEntryForm - clientId: 235
JournalEntryForm.tsx:1296 DEBUG JournalEntryForm - entityId: 376
JournalEntryForm.tsx:1299 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1304 DEBUG JournalEntryForm - existingEntry ID: 194
JournalEntryForm.tsx:1305 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1309 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1313 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7081",
  "entityCode": "",
  "description": "Test 2",
  "debit": "2,222.00",
  "credit": "0.00",
  "tags": [],
  "id": 520
}
JournalEntryForm.tsx:1323 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntryForm.tsx:471 ARCHITECT_DEBUG_ATTACHMENT_PERMISSIONS: {journalEntry: true, journalEntryStatus: 'draft', isExistingEntry: true, isNewEntry: false, canModifyExistingEntry: true, …}
useJournalEntry.ts:338 DEBUG: Post success response: {
  "status": "posted",
  "ok": true,
  "statusText": "OK",
  "headers": {
    "content-type": "application/json; charset=utf-8",
    "content-length": "1385"
  },
  "id": 194,
  "clientId": 235,
  "entityId": 376,
  "date": "2025-06-14",
  "referenceNumber": "Copy of Copy of 376-06-13-2025-26395:TEST_2",
  "description": "Copy of: Copy of: Test 2",
  "isSystemGenerated": false,
  "journalType": "JE",
  "supDocId": null,
  "reversalDate": null,
  "isAccrual": false,
  "isReversal": false,
  "reversedEntryId": null,
  "isReversed": false,
  "reversedByEntryId": null,
  "requestedBy": null,
  "requestedAt": null,
  "approvedBy": null,
  "approvedAt": null,
  "rejectedBy": null,
  "rejectedAt": null,
  "rejectionReason": null,
  "postedBy": 1,
  "postedAt": "2025-06-14T20:10:34.965Z",
  "createdBy": 1,
  "createdAt": "2025-06-14T20:10:20.899Z",
  "updatedAt": "2025-06-14T20:10:20.899Z",
  "lines": [
    {
      "id": 520,
      "journalEntryId": 194,
      "accountId": 7081,
      "type": "debit",
      "amount": "2222.0000",
      "description": "Test 2",
      "entityCode": null,
      "fsliBucket": null,
      "internalReportingBucket": null,
      "item": null,
      "lineNo": null,
      "reference": null,
      "reconciled": false,
      "reconciledAt": null,
      "reconciledBy": null,
      "createdAt": "2025-06-14T20:10:20.899Z",
      "updatedAt": "2025-06-14T20:10:20.899Z",
      "tags": []
    },
    {
      "id": 521,
      "journalEntryId": 194,
      "accountId": 7091,
      "type": "credit",
      "amount": "2222.0000",
      "description": "Test 2",
      "entityCode": null,
      "fsliBucket": null,
      "internalReportingBucket": null,
      "item": null,
      "lineNo": null,
      "reference": null,
      "reconciled": false,
      "reconciledAt": null,
      "reconciledBy": null,
      "createdAt": "2025-06-14T20:10:20.899Z",
      "updatedAt": "2025-06-14T20:10:20.899Z",
      "tags": []
    }
  ]
}
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:152 DEBUG - JournalEntries - Raw entries: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:157 DEBUG - Entry 193 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 193: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 171 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 171: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 173 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 173: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 175 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 175: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 176 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 176: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 178 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 178: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 170 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 170: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 172 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 172: debit=4, credit=4
JournalEntries.tsx:157 DEBUG - Entry 174 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 174: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 168 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 168: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 177 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 177: debit=12.87, credit=12.87
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntries.tsx:80 JournalEntries: Route params check - entityId: 376 clientId: 235 currentEntity: 376
JournalEntries.tsx:127 JournalEntries Data: (11) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: false
EntityLayout.tsx:34 EntityLayout: Setting client ID from URL params: 235
EntityContext.tsx:68 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting client ID to 235
EntityContext.tsx:74 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved client ID 235 to localStorage
EntityLayout.tsx:60 EntityLayout: Current entities 1 Looking for entity ID: 376
EntityLayout.tsx:61 EntityLayout: Client ID from params: 235
EntityLayout.tsx:67 EntityLayout: Found entity in loaded entities, setting current entity: TY
EntityContext.tsx:83 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting entity to 376
EntityContext.tsx:89 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved entity ID 376 to localStorage
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:152 DEBUG - JournalEntries - Raw entries: (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:157 DEBUG - Entry 194 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 194: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 193 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 193: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 173 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 173: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 175 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 175: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 176 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 176: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 178 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 178: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 168 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 168: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 170 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 170: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 172 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 172: debit=4, credit=4
JournalEntries.tsx:157 DEBUG - Entry 174 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 174: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 177 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 177: debit=12.87, credit=12.87
JournalEntries.tsx:157 DEBUG - Entry 171 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 171: debit=3, credit=3
JournalEntries.tsx:127 JournalEntries Data: (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: false
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 194
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:617 DEBUG - AccountsMap - Accounts array: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data structure: {id: 194, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:706 entry at render {id: 194, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 194, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 194, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 194, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=2222, creditValue=0, line= {id: 520, journalEntryId: 194, accountId: 7081, type: 'debit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=2222, line= {id: 521, journalEntryId: 194, accountId: 7091, type: 'credit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 194, isInEditMode: false, …}
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntryDetail.tsx:896 JournalEntryDetail: Navigating back to list with path: /clients/235/entities/376/journal-entries
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntries.tsx:152 DEBUG - JournalEntries - Raw entries: (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:157 DEBUG - Entry 194 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 194: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 193 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 193: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 173 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 173: debit=3, credit=3
JournalEntries.tsx:157 DEBUG - Entry 175 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 175: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 176 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 176: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 178 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 178: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 168 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 168: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 170 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 170: debit=2222, credit=2222
JournalEntries.tsx:157 DEBUG - Entry 172 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 172: debit=4, credit=4
JournalEntries.tsx:157 DEBUG - Entry 174 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 174: debit=1, credit=1
JournalEntries.tsx:157 DEBUG - Entry 177 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 177: debit=12.87, credit=12.87
JournalEntries.tsx:157 DEBUG - Entry 171 structure: (29) ['id', 'clientId', 'entityId', 'date', 'referenceNumber', 'description', 'isSystemGenerated', 'status', 'journalType', 'supDocId', 'reversalDate', 'isAccrual', 'isReversal', 'reversedEntryId', 'isReversed', 'reversedByEntryId', 'requestedBy', 'requestedAt', 'approvedBy', 'approvedAt', 'rejectedBy', 'rejectedAt', 'rejectionReason', 'postedBy', 'postedAt', 'createdBy', 'createdAt', 'updatedAt', 'totals']
JournalEntries.tsx:162 DEBUG - Using pre-calculated totals for entry 171: debit=3, credit=3
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
JournalEntries.tsx:80 JournalEntries: Route params check - entityId: 376 clientId: 235 currentEntity: 376
JournalEntries.tsx:127 JournalEntries Data: (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntries.tsx:128 JournalEntries Error: null
JournalEntries.tsx:129 JournalEntries Loading: false
EntityLayout.tsx:34 EntityLayout: Setting client ID from URL params: 235
EntityContext.tsx:68 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting client ID to 235
EntityContext.tsx:74 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved client ID 235 to localStorage
EntityLayout.tsx:60 EntityLayout: Current entities 1 Looking for entity ID: 376
EntityLayout.tsx:61 EntityLayout: Client ID from params: 235
EntityLayout.tsx:67 EntityLayout: Found entity in loaded entities, setting current entity: TY
EntityContext.tsx:83 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Setting entity to 376
EntityContext.tsx:89 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Saved entity ID 376 to localStorage
JournalEntries.tsx:68 JournalEntries: Detailed context check {params.clientId: '235', params.entityId: '376', currentEntity?.clientId: 235, currentEntity?.id: 376, calculated clientId: 235, …}
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 235, entityId: 376
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:109 DEBUG: Constructing journal entries API URL: /api/clients/235/entities/376/journal-entries
JournalEntries.tsx:110 DEBUG: Query will be enabled: true
JournalEntryDetail.tsx:155 JournalEntryDetail: Route params - clientId: 235 entityId: 376 entryId: 193
JournalEntryDetail.tsx:583 JournalEntryDetail: Using clientId 235 for API requests (from param: 235 or entity: 235 )
JournalEntryDetail.tsx:617 DEBUG - AccountsMap - Accounts array: (74) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data structure: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:706 entry at render {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:707 DEBUG - JournalEntryDetail - Using entry: {id: 193, clientId: 235, entityId: 376, date: '2025-06-14', referenceNumber: 'Copy of 376-06-13-2025-26395:TEST_2', …}
JournalEntryDetail.tsx:711 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:712 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:713 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:719 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:723 DEBUG - JournalEntryDetail - First line properties: (18) ['id', 'journalEntryId', 'accountId', 'type', 'amount', 'description', 'entityCode', 'fsliBucket', 'internalReportingBucket', 'item', 'lineNo', 'reference', 'reconciled', 'reconciledAt', 'reconciledBy', 'createdAt', 'updatedAt', 'tags']
JournalEntryDetail.tsx:1620 ARCHITECT_DEBUG: Button visibility check. Entry ID: 193, Status: posted
JournalEntryDetail.tsx:1172 DEBUG: Permission matrix: {entryId: 193, status: 'posted', isAdmin: true, isSupervisor: false, isAccounting: false, …}
JournalEntryDetail.tsx:1791 Line 0: debitValue=2222, creditValue=0, line= {id: 518, journalEntryId: 193, accountId: 7081, type: 'debit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1791 Line 1: debitValue=0, creditValue=2222, line= {id: 519, journalEntryId: 193, accountId: 7091, type: 'credit', amount: '2222.0000', …}
JournalEntryDetail.tsx:1853 ARCHITECT_DEBUG_DETAIL_ATTACHMENT_PERMISSIONS: {entryStatus: 'posted', entryExists: true, canUpload: false, entryId: 193, isInEditMode: false, …}
GlobalContextSelector.tsx:68 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 235, expanding it for user convenience
GlobalContextSelector.tsx:282 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 235 - ensuring it's expanded
