 [vite] connecting...
 [vite] connected.
 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= false AuthNotLoading= false QueryEnabled= false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Checking authentication status...
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Debug session ID found: tP1jgDqVe-m_Eiapx0MN-ZucN7mshFYY
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Making fetch request to /api/auth/me with credentials
 ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
warnOnce @ react-router-dom.js?v=830d4b6b:4394
 DEBUG Axios Request: GET /api/blog/posts
/api/auth/me:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check response status: 401
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check failed: 
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Current path: / Is home page: true
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Setting guest user for home page
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Reset entity queries for guest user to avoid 401 errors
 ARCHITECT_DEBUG_AUTH_CTX_CHECK: Auth check completed, setting isLoading to false
 DEBUG Axios Response: 200 /api/blog/posts
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: Query function executing with:
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - User: ID 0, Username guest
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Auth loading state: false
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Query enabled: true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Is Guest user: true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: Guest user detected, skipping actual API call and returning empty array
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: true
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ENTITY_CONTEXT_STATE_POST_FETCH: 
        - Total entities: 0
        - Auth loading: false
        - Query state: Success=true, Loading=false, Error=false
 ARCHITECT_DEBUG_ENTITY_CTX_STATE_POST_FETCH: Object
 DEBUG: Initial entities loading completed successfully
 ENTITY_CONTEXT_LOADING_STATE_CHANGE: 
        From true to false
        - Auth loading: false
        - Query loading: false
        - Fetching: false
        - Initial load complete: false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: false
    - Loading: true
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/:1 [DOM] Found 2 elements with non-unique id #password: (More info: https://goo.gl/9p2vKq)
80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/:1 [DOM] Found 2 elements with non-unique id #username: (More info: https://goo.gl/9p2vKq)  
80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/:1 [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://goo.gl/9p2vKq)
80550fad-9a85-4035-aa54-a26530837091-00-3hx3dcszn47es.janeway.replit.dev/:1 [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://goo.gl/9p2vKq)
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Login attempt with: admin
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Making login request with credentials
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= false QueryEnabled= false
 ENTITY_CONTEXT_LOADING_STATE_CHANGE: 
        From false to true
        - Auth loading: true
        - Query loading: false
        - Fetching: false
        - Initial load complete: true
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= false QueryEnabled= false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: true
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= false QueryEnabled= false
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Login response status: 200
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Login response data: Object
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Verifying session with /api/auth/me
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Session verification status: 200
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Session verification data: Object
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Setting authenticated user: Object
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Login successful. User set: Object
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Starting critical query invalidation sequence...
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Step 1 - Resetting [/api/entities] and [/api/clients] queries to clear stale data
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Step 2 - Invalidating [/api/entities] and [/api/clients] queries NOW to force refetch
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Step 3 - Explicitly triggering refetch for [/api/entities] and [/api/clients]
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Waiting for refetch operations to complete...
 ARCHITECT_DEBUG_AUTH_CTX_LOGIN: Query invalidation sequence completed. Entities should load without page reload.
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: Query function executing with:
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - User: ID 1, Username admin
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Auth loading state: false
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Query enabled: true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_EXECUTION: - Is Guest user: false
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 0
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: true
    - Query fetching: true
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_RESPONSE: Status 200 OK
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_SUCCESS: Got successful response, parsing JSON...
 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: Fetched entitiesData length: 50
 ARCHITECT_DEBUG_ENTITY_CTX_DATA_RECEIVED: First few entities: Array(2)
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ENTITY_CONTEXT_LOADING_STATE_CHANGE: 
        From true to false
        - Auth loading: false
        - Query loading: false
        - Fetching: false
        - Initial load complete: true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: true
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Attempting to restore saved selections from localStorage
 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Found saved values: clientId=250, entityId=393
 ARCHITECT_DEBUG_SELECTOR_PERSISTENCE: Restoring entity 393 (GW2)
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: No client selected, skipping entity selection logic
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 0
    - Selected client: null
    - Current entity: undefined
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ENTITY_CONTEXT_AUTH_STATE: Object
 ARCHITECT_DEBUG_ENTITY_CTX_QUERY_CONFIG: UserExists= true AuthNotLoading= true QueryEnabled= true
 ARCHITECT_DEBUG_ENTITY_CTX_CLIENT_CHANGE: Client selection changed: Object
 DEBUG: Entities context state:
    - Total entities: 50
    - Filtered entities: 2
    - Selected client: 250
    - Current entity: 393
    - Initial loading complete: true
    - Loading: false
    - Query fetching: false
 ARCHITECT_DEBUG_REDIRECTOR_STATE: Object
 ARCHITECT_DEBUG_REDIRECTOR_RENDER: Rendering outlet with selected entity: Object
 JournalEntries: Detailed context check Object
 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
 DEBUG: Constructing journal entries API URL: /api/clients/250/entities/393/journal-entries
 DEBUG: Query will be enabled: true
 No data available for journal entries
 ARCHITECT_DEBUG_SELECTOR_INIT_EXPAND: Restored selectedClientId 250, expanding it for user convenience
 ARCHITECT_DEBUG_SELECTOR_UI: Selected client changed to 250 - ensuring it's expanded
 JournalEntries: Route params check - entityId: 393 clientId: 250 currentEntity: 393
 JournalEntries Data: undefined
 JournalEntries Error: null
 JournalEntries Loading: true
 ARCHITECT_DEBUG_REDIRECTOR_URL_ENTITY: Entity already selected: Object
 JournalEntries: Detailed context check Object
 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
 DEBUG: Constructing journal entries API URL: /api/clients/250/entities/393/journal-entries
 DEBUG: Query will be enabled: true
 DEBUG - JournalEntries - Raw entries: Array(12)
 DEBUG - Entry 154 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 154: debit=23, credit=23
 DEBUG - Entry 153 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 153: debit=69, credit=69
 DEBUG - Entry 143 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 143: debit=15, credit=15
 DEBUG - Entry 145 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 145: debit=21, credit=21
 DEBUG - Entry 147 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 147: debit=0, credit=0
 DEBUG - Entry 150 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 150: debit=1, credit=1
 DEBUG - Entry 151 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 151: debit=1, credit=1
 DEBUG - Entry 149 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 149: debit=1, credit=1
 DEBUG - Entry 144 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 144: debit=14, credit=14
 DEBUG - Entry 152 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 152: debit=1, credit=1
 DEBUG - Entry 146 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 146: debit=0, credit=0
 DEBUG - Entry 148 structure: Array(28)
 DEBUG - Using pre-calculated totals for entry 148: debit=1, credit=1
 JournalEntries Data: Array(12)
 JournalEntries Error: null
 JournalEntries Loading: false
 JournalEntryDetail: Route params - clientId: 250 entityId: 393 entryId: 154
 JournalEntryDetail: Using clientId 250 for API requests (from param: 250 or entity: 250 )
 entry at render undefined
 DEBUG - JournalEntryDetail - Using entry: undefined
 JournalEntryDetail: Route params - clientId: 250 entityId: 393 entryId: 154
 JournalEntryDetail: Using clientId 250 for API requests (from param: 250 or entity: 250 )
 DEBUG - AccountsMap - Accounts array: Array(76)
 DEBUG - JournalEntryDetail - Data type: object
JournalEntryDetail.tsx:676 DEBUG - JournalEntryDetail - Data structure: Object
JournalEntryDetail.tsx:688 entry at render Object
JournalEntryDetail.tsx:689 DEBUG - JournalEntryDetail - Using entry: Object
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:695 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:701 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:705 DEBUG - JournalEntryDetail - First line properties: Array(17)
JournalEntryDetail.tsx:1052 DEBUG: Permission matrix: Object
JournalEntryDetail.tsx:1640 Line 0: debitValue=23, creditValue=0, line= Object
JournalEntryDetail.tsx:1640 Line 1: debitValue=0, creditValue=23, line= Object
JournalEntryDetail.tsx:152 JournalEntryDetail: Route params - clientId: 250 entityId: 393 entryId: 154
JournalEntryDetail.tsx:565 JournalEntryDetail: Using clientId 250 for API requests (from param: 250 or entity: 250 )
JournalEntryDetail.tsx:688 entry at render Object
JournalEntryDetail.tsx:689 DEBUG - JournalEntryDetail - Using entry: Object
JournalEntryDetail.tsx:693 DEBUG - JournalEntryDetail - Data has journalEntry property: false
JournalEntryDetail.tsx:694 DEBUG - JournalEntryDetail - Data has id property: true
JournalEntryDetail.tsx:695 DEBUG - JournalEntryDetail - Data has lines property: true
JournalEntryDetail.tsx:701 DEBUG - JournalEntryDetail - First line format: Server format (type/amount)
JournalEntryDetail.tsx:705 DEBUG - JournalEntryDetail - First line properties: Array(17)
JournalEntryDetail.tsx:1052 DEBUG: Permission matrix: Object
JournalEntryDetail.tsx:1640 Line 0: debitValue=23, creditValue=0, line= Object
JournalEntryDetail.tsx:1640 Line 1: debitValue=0, creditValue=23, line= Object
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 154
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 250 Entity ID: 393
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
useEditJournalEntry.ts:37 useEditJournalEntry - Journal entry data: Object
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:57 useEditJournalEntry - Journal entry status: draft
useEditJournalEntry.ts:79 useEditJournalEntry - Journal entry lines count: 2
useEditJournalEntry.ts:83 useEditJournalEntry - First line structure: id, journalEntryId, accountId, type, amount, description, entityCode, fsliBucket, internalReportingBucket, item, lineNo, reference, reconciled, reconciledAt, reconciledBy, createdAt, updatedAt
useEditJournalEntry.ts:85 useEditJournalEntry - Journal entry lines sample: [
  {
    "id": 408,
    "journalEntryId": 154,
    "accountId": 7892,
    "type": "debit",
    "amount": "23.0000",
    "description": "Test 5-28-2025 V2",
    "entityCode": "12",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-06T20:58:47.575Z",
    "updatedAt": "2025-06-06T20:58:47.575Z"
  },
  {
    "id": 409,
    "journalEntryId": 154,
    "accountId": 7940,
    "type": "credit",
    "amount": "23.0000",
    "description": "Test 5-28-2025 V2",
    "entityCode": "12",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-06T20:58:47.575Z",
    "updatedAt": "2025-06-06T20:58:47.575Z"
  }
]
useEditJournalEntry.ts:90 useEditJournalEntry - Line format:  SERVER (type/amount)
useEditJournalEntry.ts:93 useEditJournalEntry - Converting server format to client format
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 1 of 2: {
  "id": 408,
  "journalEntryId": 154,
  "accountId": 7892,
  "type": "debit",
  "amount": "23.0000",
  "description": "Test 5-28-2025 V2",
  "entityCode": "12",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-06T20:58:47.575Z",
  "updatedAt": "2025-06-06T20:58:47.575Z"
}
useEditJournalEntry.ts:111 useEditJournalEntry - Line 1 converted from type='debit', amount=23.0000 to: {
  "accountId": "7892",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "23.00",
  "credit": "0.00"
}
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 2 of 2: {
  "id": 409,
  "journalEntryId": 154,
  "accountId": 7940,
  "type": "credit",
  "amount": "23.0000",
  "description": "Test 5-28-2025 V2",
  "entityCode": "12",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-06T20:58:47.575Z",
  "updatedAt": "2025-06-06T20:58:47.575Z"
}
useEditJournalEntry.ts:111 useEditJournalEntry - Line 2 converted from type='credit', amount=23.0000 to: {
  "accountId": "7940",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "0.00",
  "credit": "23.00"
}
useEditJournalEntry.ts:117 useEditJournalEntry - All lines converted from server to client format
useEditJournalEntry.ts:141 useEditJournalEntry - Processed entry lines: Array(2)
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: Object
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 76
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 76
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 76
NewJournalEntry.tsx:73 DEBUG NewJournalEntry - Accounts API success response: Object
NewJournalEntry.tsx:74 DEBUG NewJournalEntry - Response has accounts array: true
NewJournalEntry.tsx:75 DEBUG NewJournalEntry - Accounts array length: 76
useEditJournalEntry.ts:19 useEditJournalEntry - Entry ID from URL: 154
useEditJournalEntry.ts:20 useEditJournalEntry - Client ID: 250 Entity ID: 393
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
useEditJournalEntry.ts:37 useEditJournalEntry - Journal entry data: Object
useEditJournalEntry.ts:45 useEditJournalEntry - Raw API response structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:53 useEditJournalEntry - Extracted journal entry structure: id, clientId, entityId, date, referenceNumber, description, isSystemGenerated, status, journalType, supDocId, reversalDate, isReversal, reversedEntryId, isReversed, reversedByEntryId, requestedBy, requestedAt, approvedBy, approvedAt, rejectedBy, rejectedAt, rejectionReason, postedBy, postedAt, createdBy, createdAt, updatedAt, lines, files
useEditJournalEntry.ts:57 useEditJournalEntry - Journal entry status: draft
useEditJournalEntry.ts:79 useEditJournalEntry - Journal entry lines count: 2
useEditJournalEntry.ts:83 useEditJournalEntry - First line structure: id, journalEntryId, accountId, type, amount, description, entityCode, fsliBucket, internalReportingBucket, item, lineNo, reference, reconciled, reconciledAt, reconciledBy, createdAt, updatedAt
useEditJournalEntry.ts:85 useEditJournalEntry - Journal entry lines sample: [
  {
    "id": 408,
    "journalEntryId": 154,
    "accountId": 7892,
    "type": "debit",
    "amount": "23.0000",
    "description": "Test 5-28-2025 V2",
    "entityCode": "12",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-06T20:58:47.575Z",
    "updatedAt": "2025-06-06T20:58:47.575Z"
  },
  {
    "id": 409,
    "journalEntryId": 154,
    "accountId": 7940,
    "type": "credit",
    "amount": "23.0000",
    "description": "Test 5-28-2025 V2",
    "entityCode": "12",
    "fsliBucket": null,
    "internalReportingBucket": null,
    "item": null,
    "lineNo": null,
    "reference": null,
    "reconciled": false,
    "reconciledAt": null,
    "reconciledBy": null,
    "createdAt": "2025-06-06T20:58:47.575Z",
    "updatedAt": "2025-06-06T20:58:47.575Z"
  }
]
useEditJournalEntry.ts:90 useEditJournalEntry - Line format:  SERVER (type/amount)
useEditJournalEntry.ts:93 useEditJournalEntry - Converting server format to client format
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 1 of 2: {
  "id": 408,
  "journalEntryId": 154,
  "accountId": 7892,
  "type": "debit",
  "amount": "23.0000",
  "description": "Test 5-28-2025 V2",
  "entityCode": "12",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-06T20:58:47.575Z",
  "updatedAt": "2025-06-06T20:58:47.575Z"
}
useEditJournalEntry.ts:111 useEditJournalEntry - Line 1 converted from type='debit', amount=23.0000 to: {
  "accountId": "7892",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "23.00",
  "credit": "0.00"
}
useEditJournalEntry.ts:97 useEditJournalEntry - Converting line 2 of 2: {
  "id": 409,
  "journalEntryId": 154,
  "accountId": 7940,
  "type": "credit",
  "amount": "23.0000",
  "description": "Test 5-28-2025 V2",
  "entityCode": "12",
  "fsliBucket": null,
  "internalReportingBucket": null,
  "item": null,
  "lineNo": null,
  "reference": null,
  "reconciled": false,
  "reconciledAt": null,
  "reconciledBy": null,
  "createdAt": "2025-06-06T20:58:47.575Z",
  "updatedAt": "2025-06-06T20:58:47.575Z"
}
useEditJournalEntry.ts:111 useEditJournalEntry - Line 2 converted from type='credit', amount=23.0000 to: {
  "accountId": "7940",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "0.00",
  "credit": "23.00"
}
useEditJournalEntry.ts:117 useEditJournalEntry - All lines converted from server to client format
useEditJournalEntry.ts:141 useEditJournalEntry - Processed entry lines: Array(2)
NewJournalEntry.tsx:110 DEBUG NewJournalEntry - Raw accountsData: Object
NewJournalEntry.tsx:116 DEBUG NewJournalEntry - accountsData.accounts exists and is an array with length: 76
NewJournalEntry.tsx:120 DEBUG NewJournalEntry - After filtering active accounts: 76
NewJournalEntry.tsx:142 DEBUG NewJournalEntry - Final accounts array after mapping: 76
JournalEntryForm.tsx:1270 DEBUG JournalEntryForm - received accounts: Array(76)
JournalEntryForm.tsx:1271 DEBUG JournalEntryForm - accounts length: 76
JournalEntryForm.tsx:1275 DEBUG JournalEntryForm - accounts first item: Object
JournalEntryForm.tsx:1279 DEBUG JournalEntryForm - clientId: 250
JournalEntryForm.tsx:1280 DEBUG JournalEntryForm - entityId: 393
JournalEntryForm.tsx:1283 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1288 DEBUG JournalEntryForm - existingEntry ID: 154
JournalEntryForm.tsx:1289 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1293 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1297 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7892",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "23.00",
  "credit": "0.00"
}
JournalEntryForm.tsx:1307 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
JournalEntryForm.tsx:450 ARCHITECT_DEBUG_DRAFT_DELETE_UI: Attachment status check: Object
JournalEntryForm.tsx:511 ARCHITECT_DEBUG_ATTACHMENTS_STATE: Object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
queryClient.ts:34 DEBUG apiRequest: isFormData: false data type: undefined url: /api/clients/250/entities/393/journal-entries/154/files method: GET
NewJournalEntry.tsx:100 DEBUG NewJournalEntry - Entities API success response: Object
NewJournalEntry.tsx:101 DEBUG NewJournalEntry - Response has entities array: true
NewJournalEntry.tsx:102 DEBUG NewJournalEntry - Entities array length: 2
attachmentQueries.ts:47 ARCHITECT_DEBUG_ATTACHMENT_TRANSFORM: Object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
JournalEntryForm.tsx:450 ARCHITECT_DEBUG_DRAFT_DELETE_UI: Attachment status check: Object
JournalEntryForm.tsx:511 ARCHITECT_DEBUG_ATTACHMENTS_STATE: Object
JournalEntryForm.tsx:1270 DEBUG JournalEntryForm - received accounts: Array(76)
JournalEntryForm.tsx:1271 DEBUG JournalEntryForm - accounts length: 76
JournalEntryForm.tsx:1275 DEBUG JournalEntryForm - accounts first item: Object
JournalEntryForm.tsx:1279 DEBUG JournalEntryForm - clientId: 250
JournalEntryForm.tsx:1280 DEBUG JournalEntryForm - entityId: 393
JournalEntryForm.tsx:1283 DEBUG JournalEntryForm - existingEntry: YES
JournalEntryForm.tsx:1288 DEBUG JournalEntryForm - existingEntry ID: 154
JournalEntryForm.tsx:1289 DEBUG JournalEntryForm - existingEntry status: draft
JournalEntryForm.tsx:1293 DEBUG JournalEntryForm - existingEntry lines count: 2
JournalEntryForm.tsx:1297 DEBUG JournalEntryForm - existingEntry first line format: {
  "accountId": "7892",
  "entityCode": "12",
  "description": "Test 5-28-2025 V2",
  "debit": "23.00",
  "credit": "0.00"
}
JournalEntryForm.tsx:1307 DEBUG JournalEntryForm - account item structure: id: number, accountCode: string, name: string, entityId: number, type: string, description: string, active: boolean, createdAt: object, subtype: object, isSubledger: boolean, subledgerType: object, parentId: object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
JournalEntryForm.tsx:153 DEBUG isReferenceDuplicate: Checking duplicate reference number Object
JournalEntryForm.tsx:177 DEBUG isReferenceDuplicate: Result Object
urlHelpers.ts:44 DEBUG: getJournalEntriesBaseUrl called with clientId: 250, entityId: 393
urlHelpers.ts:46 DEBUG: getJournalEntriesBaseUrl constructed URL: /api/clients/250/entities/393/journal-entries
JournalEntryForm.tsx:450 ARCHITECT_DEBUG_DRAFT_DELETE_UI: Attachment status check: Object
JournalEntryForm.tsx:511 ARCHITECT_DEBUG_ATTACHMENTS_STATE: Object
