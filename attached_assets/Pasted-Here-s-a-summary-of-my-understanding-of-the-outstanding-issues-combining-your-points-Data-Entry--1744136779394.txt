Here's a summary of my understanding of the outstanding issues, combining your points:

Data Entry:
Number input fields in the New JE form delete previous digits when typing.
The Edit JE form doesn't load all previously entered information (especially account lines).
Saving:
Not all entered information is saved correctly (needs specifics, but noted).
Saving fails when a file is attached.
Display:
JE List page shows $0.00 for Debits/Credits instead of actual totals.
Reference Number is not appearing correctly (List/Detail pages).
Buttons & Workflow:
Duplicate "Save as Draft" buttons on the form (one might be non-functional).
Need a "Submit for Approval" button on the form (instead of just draft saving).
"Submit for Approval" button on the Detail page doesn't work.
Edit form lacks a "Post" option (if applicable).
File Uploads:
Cannot upload Excel files as support documents.
Need support for uploading multiple files per JE.
AI Feature Request:
AI capability to read uploaded documents and assist with form filling.
Revised Plan:

We need to address the core data entry, saving, and display bugs first, then tackle the workflow and file upload issues. The AI request is a larger feature for later.

Hereâ€™s the prioritized plan using the code from the wilcoxadvisors-codeshare2.git.txt file:

Fix Form Input Bug: Analyze JournalEntryForm.tsx, specifically number inputs and the handleChange function, to stop numbers from being deleted during input.
Fix Edit Form Loading: Investigate JournalEntryForm.tsx and the useEditJournalEntry hook to ensure all data, including account lines, populates correctly when editing (existingEntry prop).
Fix Saving Issues: Analyze handleSubmit in JournalEntryForm.tsx and the backend storage logic (journalEntryStorage.ts) to find why data might be missing on save and why attachments cause failures.
Fix Reference Number Display/Save: Re-verify display logic in JournalEntries.tsx and JournalEntryDetail.tsx, and ensure the correct field (referenceNumber) is saved from JournalEntryForm.tsx.
Fix JE List Debit/Credit Display: Correct the calculation or data fetching logic in JournalEntries.tsx to show accurate totals.
Fix Form Buttons: Update JournalEntryForm.tsx to have one functional "Save as Draft" button and add a "Submit for Approval" button, connecting it to the appropriate API call and status change.
Fix Workflow Buttons (Detail Page): Correct the "Submit for Approval" button functionality in JournalEntryDetail.tsx, ensuring it calls the correct backend endpoint (likely POST /api/journal-entries/:id/submit).
Address File Upload Limitations: Investigate backend (batchUploadRoutes.ts, journalEntryRoutes.ts) and frontend code related to file uploads to allow Excel files and potentially multiple attachments.
AI Feature: Keep this noted as a future enhancement.
I will start by analyzing the code for Step 1 (Form Input Bug) and Step 2 (Edit Form Loading), as these are fundamental to using the form correctly. I'll report back with findings and proposed fixes for those first.


Sources and related content
