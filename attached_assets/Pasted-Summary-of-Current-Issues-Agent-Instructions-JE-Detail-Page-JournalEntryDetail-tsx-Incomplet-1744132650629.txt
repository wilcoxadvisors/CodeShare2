Summary of Current Issues & Agent Instructions:

JE Detail Page (JournalEntryDetail.tsx) - Incomplete Display & Formatting:

Problem: Still not showing all necessary data. Balances have incorrect formatting (100.0000).
Instruction: "Please update the rendering logic in JournalEntryDetail.tsx to:
Display all essential header fields: Reference Number, Status, Date, Description.
Display Entity Code and Line Description in the lines table.
Format the Debit/Credit amounts in the lines table and the Total Balances to two decimal places (e.g., 100.00)."
JE Form (JournalEntryForm.tsx) - Editing & Saving Issues:

Problem: Reference field doesn't save. Uncertainty if any edits save correctly. Form resets when editing (user previously reported this, unclear if fixed). Duplicate 'Save as Draft' buttons appear during JE creation. The remaining button logic is still incorrect (should save as 'draft', not 'posted').
Instruction: "Please fix the following in JournalEntryForm.tsx and its usage:
Reference Field: Ensure the referenceNumber field is included in the data payload for both create (POST) and update (PUT) API calls and saved correctly by the backend.
Saving Edits: Verify that the PUT /api/journal-entries/:id call correctly saves all modified fields (including Reference) and keeps the status as draft.
Form Reset on Edit: Confirm that when editing, changing a value doesn't reset the entire form unexpectedly. (The agent's useEditJournalEntry hook should load data initially, but subsequent state updates need checking).
Duplicate Buttons: Remove the duplicate 'Save as Draft' button that appears during JE creation.
Button Logic: Ensure the 'Save as Draft' / 'Save Changes' button always submits the entry with status: 'draft', using the correct HTTP method (POST for new, PUT for edits)."
Workflow Actions (Missing/Broken):

Problem: Core actions like 'Submit for Approval', 'Approve', 'Post' are still missing or non-functional.
Instruction: "The main JE workflow is incomplete. Please implement the following:
On the JournalEntryDetail.tsx page, add buttons for 'Submit for Approval', 'Approve', and 'Post'.
These buttons should only be visible/enabled based on the JE's current status (e.g., 'Submit for Approval' only for 'draft', 'Approve' only for 'submitted', 'Post' only for 'approved') and potentially user roles.
Connect these buttons to functions that correctly call the corresponding backend API endpoints (POST .../request-approval, POST .../approve, POST .../post).
Verify these backend endpoints exist and function correctly."
JE Overview/List Page (JournalEntries.tsx):

Problem: The list view could be more informative.
Instruction: "Please improve the main Journal Entry list display:
Add a column for 'Booking Period' (if this data exists or can be derived/added).
Replace the single 'Amount' column with two columns: 'Total Debit' and 'Total Credit'.
Clarify which 'ID' should be shown - if the database id is needed in addition to the user-facing reference, display it in a separate column."
Alignment with Instructions.md:

These steps focus on completing the essential functionality of the Core Accounting Module (Phase B.2), specifically the creation, editing, viewing, and status management of Journal Entries. Addressing the UI/UX issues (incomplete data display, formatting, button logic) aligns with the goals for User Experience and Design. Implementing the workflow actions is critical for the application's core purpose.